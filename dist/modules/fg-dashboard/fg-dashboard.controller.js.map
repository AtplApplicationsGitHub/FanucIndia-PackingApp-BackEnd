{"version":3,"sources":["../../../src/modules/fg-dashboard/fg-dashboard.controller.ts"],"sourcesContent":["import { Controller, Get, UseGuards, Req, Query } from '@nestjs/common';\r\nimport { ApiBearerAuth, ApiTags, ApiQuery } from '@nestjs/swagger';\r\nimport { JwtAuthGuard } from '../auth/jwt-auth.guard';\r\nimport { Roles } from '../auth/roles.decorator';\r\nimport { FgDashboardService } from './fg-dashboard.service';\r\nimport { AuthRequest } from '../auth/types/auth-request.type';\r\n\r\n@ApiTags('FG Dashboard')\r\n@ApiBearerAuth()\r\n@UseGuards(JwtAuthGuard)\r\n@Controller('fg-dashboard')\r\nexport class FgDashboardController {\r\n  constructor(private readonly fgDashboardService: FgDashboardService) {}\r\n\r\n  @Get()\r\n  @Roles('ADMIN', 'USER')\r\n  @ApiQuery({ name: 'search', required: false, type: String })\r\n  @ApiQuery({ name: 'date', required: false, type: String, description: 'YYYY-MM-DD' })\r\n  getFgDashboardData(@Req() req: AuthRequest, @Query() query: { search?: string, date?: string }) {\r\n    return this.fgDashboardService.getFgDashboardData(req.user, query);\r\n  }\r\n}"],"names":["FgDashboardController","getFgDashboardData","req","query","fgDashboardService","user","name","required","type","String","description"],"mappings":";;;;+BAWaA;;;eAAAA;;;wBAX0C;yBACN;8BACpB;gCACP;oCACa;iCACP;;;;;;;;;;;;;;;AAMrB,IAAA,AAAMA,wBAAN,MAAMA;IAOXC,mBAAmB,AAAOC,GAAgB,EAAE,AAASC,KAAyC,EAAE;QAC9F,OAAO,IAAI,CAACC,kBAAkB,CAACH,kBAAkB,CAACC,IAAIG,IAAI,EAAEF;IAC9D;IARA,YAAY,AAAiBC,kBAAsC,CAAE;aAAxCA,qBAAAA;IAAyC;AASxE;;;;;QALcE,MAAM;QAAUC,UAAU;QAAOC,MAAMC;;;QACvCH,MAAM;QAAQC,UAAU;QAAOC,MAAMC;QAAQC,aAAa"}