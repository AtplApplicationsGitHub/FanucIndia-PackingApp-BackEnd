{"version":3,"sources":["../../../src/modules/auth/auth.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { AuthService } from './auth.service';\r\nimport { AuthController } from './auth.controller';\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { JwtStrategy } from './jwt.strategy';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport { JwtAuthGuard } from './jwt-auth.guard';\r\nimport { RolesGuard } from './roles.guard';\r\nimport { APP_GUARD, Reflector } from '@nestjs/core';\r\n\r\n@Module({\r\n  imports: [\r\n    ConfigModule,\r\n    JwtModule.registerAsync({\r\n      imports: [ConfigModule],\r\n      useFactory: (config: ConfigService) => ({\r\n        secret: config.get<string>('JWT_SECRET'),\r\n        signOptions: { expiresIn: '2h' },\r\n      }),\r\n      inject: [ConfigService],\r\n    }),\r\n  ],\r\n  providers: [\r\n    AuthService,\r\n    JwtStrategy,\r\n    Reflector,\r\n    {\r\n      provide: APP_GUARD,\r\n      useClass: JwtAuthGuard, \r\n    },\r\n    {\r\n      provide: APP_GUARD,\r\n      useClass: RolesGuard, \r\n    },\r\n  ],\r\n  controllers: [AuthController],\r\n  exports: [JwtModule, JwtStrategy],\r\n})\r\nexport class AuthModule {}\r\n"],"names":["AuthModule","imports","ConfigModule","JwtModule","registerAsync","useFactory","config","secret","get","signOptions","expiresIn","inject","ConfigService","providers","AuthService","JwtStrategy","Reflector","provide","APP_GUARD","useClass","JwtAuthGuard","RolesGuard","controllers","AuthController","exports"],"mappings":";;;;+BAsCaA;;;eAAAA;;;wBAtCU;6BACK;gCACG;qBACL;6BACE;wBACgB;8BACf;4BACF;sBACU;;;;;;;AA8B9B,IAAA,AAAMA,aAAN,MAAMA;AAAY;;;QA3BvBC,SAAS;YACPC,oBAAY;YACZC,cAAS,CAACC,aAAa,CAAC;gBACtBH,SAAS;oBAACC,oBAAY;iBAAC;gBACvBG,YAAY,CAACC,SAA2B,CAAA;wBACtCC,QAAQD,OAAOE,GAAG,CAAS;wBAC3BC,aAAa;4BAAEC,WAAW;wBAAK;oBACjC,CAAA;gBACAC,QAAQ;oBAACC,qBAAa;iBAAC;YACzB;SACD;QACDC,WAAW;YACTC,wBAAW;YACXC,wBAAW;YACXC,eAAS;YACT;gBACEC,SAASC,eAAS;gBAClBC,UAAUC,0BAAY;YACxB;YACA;gBACEH,SAASC,eAAS;gBAClBC,UAAUE,sBAAU;YACtB;SACD;QACDC,aAAa;YAACC,8BAAc;SAAC;QAC7BC,SAAS;YAACrB,cAAS;YAAEY,wBAAW;SAAC"}