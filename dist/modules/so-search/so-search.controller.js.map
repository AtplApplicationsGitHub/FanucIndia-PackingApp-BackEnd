{"version":3,"sources":["../../../src/modules/so-search/so-search.controller.ts"],"sourcesContent":["import { Controller, Get, Param, UseGuards, Req } from '@nestjs/common';\r\nimport { JwtAuthGuard } from '../auth/jwt-auth.guard';\r\nimport { SoSearchService } from './so-search.service';\r\nimport { ApiBearerAuth, ApiTags } from '@nestjs/swagger';\r\nimport { Roles } from '../auth/roles.decorator';\r\nimport { AuthRequest } from '../auth/types/auth-request.type';\r\n\r\n@ApiTags('SO Search')\r\n@ApiBearerAuth()\r\n@UseGuards(JwtAuthGuard)\r\n@Controller('so-search')\r\nexport class SoSearchController {\r\n  constructor(private readonly soSearchService: SoSearchService) {}\r\n\r\n  @Get(':soNumber')\r\n  @Roles('ADMIN', 'USER', 'SALES')\r\n  findDetails(@Param('soNumber') soNumber: string, @Req() req: AuthRequest) {\r\n    return this.soSearchService.findDetailsBySoNumber(soNumber, req.user);\r\n  }\r\n}"],"names":["SoSearchController","findDetails","soNumber","req","soSearchService","findDetailsBySoNumber","user"],"mappings":";;;;+BAWaA;;;eAAAA;;;wBAX0C;8BAC1B;iCACG;yBACO;gCACjB;iCACM;;;;;;;;;;;;;;;AAMrB,IAAA,AAAMA,qBAAN,MAAMA;IAKXC,YAAY,AAAmBC,QAAgB,EAAE,AAAOC,GAAgB,EAAE;QACxE,OAAO,IAAI,CAACC,eAAe,CAACC,qBAAqB,CAACH,UAAUC,IAAIG,IAAI;IACtE;IANA,YAAY,AAAiBF,eAAgC,CAAE;aAAlCA,kBAAAA;IAAmC;AAOlE"}