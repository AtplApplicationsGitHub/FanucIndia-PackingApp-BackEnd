{"version":3,"sources":["../src/prisma.service.ts"],"sourcesContent":["import {\r\n  Injectable,\r\n  OnModuleInit,\r\n  OnModuleDestroy,\r\n  Logger,\r\n} from '@nestjs/common';\r\nimport { PrismaClient } from '@prisma/client';\r\n\r\n@Injectable()\r\nexport class PrismaService extends PrismaClient\r\n  implements OnModuleInit, OnModuleDestroy {\r\n  private readonly logger = new Logger(PrismaService.name);\r\n\r\n  constructor() {\r\n    super({\r\n      transactionOptions: {\r\n        maxWait: 10000, \r\n        timeout: 30000,\r\n      },\r\n    });\r\n  }\r\n\r\n  async onModuleInit() {\r\n    await this.$connect();\r\n    this.logger.log('âœ… Prisma connected');\r\n  }\r\n\r\n  async onModuleDestroy() {\r\n    await this.$disconnect();\r\n    this.logger.log('ðŸ›‘ Prisma disconnected');\r\n  }\r\n}\r\n"],"names":["PrismaService","PrismaClient","onModuleInit","$connect","logger","log","onModuleDestroy","$disconnect","transactionOptions","maxWait","timeout","Logger","name"],"mappings":";;;;+BASaA;;;eAAAA;;;wBAJN;wBACsB;;;;;;;;;;AAGtB,IAAA,AAAMA,gBAAN,MAAMA,sBAAsBC,oBAAY;IAa7C,MAAMC,eAAe;QACnB,MAAM,IAAI,CAACC,QAAQ;QACnB,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC;IAClB;IAEA,MAAMC,kBAAkB;QACtB,MAAM,IAAI,CAACC,WAAW;QACtB,IAAI,CAACH,MAAM,CAACC,GAAG,CAAC;IAClB;IAjBA,aAAc;QACZ,KAAK,CAAC;YACJG,oBAAoB;gBAClBC,SAAS;gBACTC,SAAS;YACX;QACF,SAReN,SAAS,IAAIO,cAAM,CAACX,cAAcY,IAAI;IASvD;AAWF"}